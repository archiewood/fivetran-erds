CREATE TABLE "transaction" (
    _fivetran_id text,
    payment_reference text,
    amount text,
    capture_date text,
    capture_id text,
    currency_code text,
    currency_code_of_registration_country text,
    detailed_type text,
    initial_number_of_installments text,
    initial_payment_method_monthly_down_payment text,
    initial_payment_method_number_of_installment text,
    initial_payment_method_type text,
    klarna_comment text,
    merchant_capture_reference text,
    merchant_id text,
    merchant_reference_1 text,
    merchant_reference_2 text,
    merchant_refund_reference text,
    order_id text,
    payout text,
    purchase_country text,
    refund_id text,
    sale_date text,
    shipping_address_country text,
    short_order_id text,
    tax_in_currency_of_registration_country text,
    "type" text,
    vat_amount text,
    vat_rate text,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (payment_reference) REFERENCES payout(payment_reference)
);

CREATE TABLE payout_report (
    _fivetran_id text,
    payment_reference text,
    amount text,
    capture_date text,
    capture_id text,
    detailed_type text,
    initial_payment_method_monthly_down_payment text,
    initial_payment_method_number_of_installment text,
    initial_payment_method_type text,
    klarna_comment text,
    merchant_capture_reference text,
    merchant_reference_1 text,
    merchant_reference_2 text,
    merchant_refund_reference text,
    merchant_settlement_type text,
    order_id text,
    payout_date text,
    posting_currency text,
    purchase_country text,
    refund_id text,
    sale_date text,
    settlement_merchant_id text,
    shipping_address_country text,
    short_order_id text,
    sub_merchant_id text,
    tax_amount text,
    tax_rate text,
    "type" text,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (payment_reference) REFERENCES payout(payment_reference)
);

CREATE TABLE payout (
    payment_reference text,
    currency_code text,
    currency_code_of_registration_country text,
    merchant_id text,
    merchant_settlement_type text,
    payout_date text,
    total_charge_amount text,
    total_closing_debt_balance_amount text,
    total_commission_amount text,
    total_credit_amount text,
    total_deposit_amount text,
    total_fee_amount text,
    total_fee_correction_amount text,
    total_fee_refund_amount text,
    total_holdback_amount text,
    total_opening_debt_balance_amount text,
    total_release_amount text,
    total_repay_amount text,
    total_return_amount text,
    total_reversal_amount text,
    total_sale_amount text,
    total_settlement_amount text,
    total_tax_amount text,
    total_tax_refund_amount text,
    "transaction" text,
    PRIMARY KEY (payment_reference)
);
