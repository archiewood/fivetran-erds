CREATE TABLE media_comment (
    _fivetran_id text,
    media_id bigint,
    created_time timestamp,
    hidden boolean,
    id bigint,
    like_count bigint,
    owner_id bigint,
    owner_username text,
    parent_id bigint,
    text text,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (media_id) REFERENCES media_history(_fivetran_id)
);

CREATE TABLE user_lifetime_insights (
    _fivetran_id text,
    id bigint,
    "date" text,
    "key" text,
    metric text,
    "value" bigint,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (id) REFERENCES user_history(_fivetran_id)
);

CREATE TABLE media_insights (
    _fivetran_id text,
    id bigint,
    carousel_album_engagement bigint,
    carousel_album_follows bigint,
    carousel_album_impressions bigint,
    carousel_album_reach bigint,
    carousel_album_saved bigint,
    carousel_album_shares bigint,
    carousel_album_views bigint,
    comment_count bigint,
    like_count bigint,
    navigation bigint,
    reel_comments bigint,
    reel_likes bigint,
    reel_reach bigint,
    reel_saved bigint,
    reel_shares bigint,
    reel_total_interactions bigint,
    reel_views bigint,
    story_exits bigint,
    story_follows bigint,
    story_impressions bigint,
    story_reach bigint,
    story_replies bigint,
    story_shares bigint,
    story_swipe_forward bigint,
    story_taps_back bigint,
    story_taps_forward bigint,
    story_views bigint,
    video_photo_engagement bigint,
    video_photo_follows bigint,
    video_photo_impressions bigint,
    video_photo_reach bigint,
    video_photo_saved bigint,
    video_photo_shares bigint,
    video_photo_views bigint,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (id) REFERENCES media_history(_fivetran_id)
);

CREATE TABLE user_history (
    _fivetran_id text,
    followers_count bigint,
    follows_count bigint,
    has_profile_pic boolean,
    id bigint,
    ig_id bigint,
    is_published boolean,
    media_count bigint,
    "name" text,
    profile_picture_url text,
    username text,
    website text,
    PRIMARY KEY (_fivetran_id)
);

CREATE TABLE media_history (
    _fivetran_id text,
    user_id bigint,
    caption text,
    carousel_album_id bigint,
    created_time timestamp,
    id bigint,
    ig_id bigint,
    is_comment_enabled boolean,
    is_story boolean,
    media_product_type text,
    media_type text,
    media_url text,
    owner_id bigint,
    permalink text,
    shortcode text,
    thumbnail_url text,
    username text,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (user_id) REFERENCES user_history(_fivetran_id)
);

CREATE TABLE user_insights (
    _fivetran_id text,
    id bigint,
    comments bigint,
    "date" text,
    follower_count bigint,
    likes bigint,
    reach bigint,
    reach_28_d bigint,
    reach_7_d bigint,
    replies bigint,
    saves bigint,
    shares bigint,
    total_interactions bigint,
    unfollower_count bigint,
    views bigint,
    PRIMARY KEY (_fivetran_id),
    FOREIGN KEY (id) REFERENCES user_history(_fivetran_id)
);
