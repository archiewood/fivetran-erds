-- There is no ERD for Custom Modules and Subforms as they are based on customer requirements.

CREATE TABLE sales_order (
    id text,
    account_id text,
    contact_id text,
    created_by_id text,
    deal_id text,
    modified_by_id text,
    owner_id text,
    quote_id text,
    account_name text,
    adjustment double precision,
    approved boolean,
    billing_city text,
    billing_code text,
    billing_country text,
    billing_state text,
    billing_street text,
    carrier text,
    contact_name text,
    converted text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    customer_no text,
    deal_name text,
    description text,
    discount double precision,
    due_date text,
    editable boolean,
    exchange_rate double precision,
    excise_duty integer,
    grand_total double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    purchase_order text,
    quote_name text,
    sales_commission double precision,
    shipping_city text,
    shipping_code text,
    shipping_country text,
    shipping_state text,
    shipping_street text,
    so_number text,
    "state" text,
    "status" text,
    sub_total double precision,
    subject text,
    tax double precision,
    terms_and_conditions text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (deal_id) REFERENCES deal(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (quote_id) REFERENCES quote(id)
);

CREATE TABLE stage (
    id text,
    display_label text,
    forecast_category_id text,
    forecast_category_name text,
    forecast_type text,
    "name" text,
    probability text,
    PRIMARY KEY (id)
);

CREATE TABLE task (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    approved boolean,
    closed_time timestamp,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    due_date text,
    editable boolean,
    exchange_rate double precision,
    expected_revenue double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    priority text,
    process_flow boolean,
    se_module text,
    send_notification_email boolean,
    "status" text,
    subject text,
    u_id text,
    what_id text,
    what_name text,
    who_id text,
    who_name text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE purchase_order_product (
    id text,
    purchase_order_id text,
    product_id text,
    discount double precision,
    list_price double precision,
    net_total double precision,
    product_currency text,
    product_description text,
    product_name text,
    quantity integer,
    quantity_in_stock integer,
    tax double precision,
    total double precision,
    total_after_discount double precision,
    unit_price double precision,
    PRIMARY KEY (id, purchase_order_id),
    FOREIGN KEY (purchase_order_id) REFERENCES purchase_order(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);

CREATE TABLE event_participant (
    id text,
    event_id text,
    email text,
    invited boolean,
    "name" text,
    participant text,
    "status" text,
    "type" text,
    PRIMARY KEY (id, event_id),
    FOREIGN KEY (event_id) REFERENCES event(id)
);

CREATE TABLE tags (
    id text,
    created_by_id text,
    modified_by_id text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    module text,
    "name" text,
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id)
);

CREATE TABLE users (
    id text,
    role_id text,
    alias text,
    city text,
    confirm boolean,
    country text,
    country_locale text,
    created_time timestamp,
    currency text,
    date_format text,
    dob timestamp,
    email text,
    fax text,
    first_name text,
    full_name text,
    isonline boolean,
    language text,
    last_name text,
    locale text,
    microsoft boolean,
    mobile text,
    modified_time timestamp,
    name_format text,
    personal_account boolean,
    phone text,
    role_name text,
    signature text,
    "state" text,
    "status" text,
    street text,
    time_format text,
    time_zone text,
    website text,
    zip text,
    zuid text,
    -- customize_info_* (dynamic column),
    -- theme_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (role_id) REFERENCES "role"(id)
);

CREATE TABLE contact (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    approved boolean,
    assistant text,
    asst_phone text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    date_of_birth text,
    department text,
    description text,
    editable boolean,
    email text,
    email_opt_out boolean,
    exchange_rate double precision,
    fax text,
    first_name text,
    full_name text,
    home_phone text,
    in_merge boolean,
    last_activity_time timestamp,
    last_contacted_on timestamp,
    last_name text,
    mailing_country text,
    mailing_state text,
    mailing_street text,
    mailing_zip text,
    mobile text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    negative_score integer,
    negative_touch_point_score integer,
    number_of_chats integer,
    orchestration boolean,
    other_city text,
    other_country text,
    other_phone text,
    other_state text,
    other_street text,
    other_zip text,
    owner_email text,
    owner_name text,
    phone text,
    positive_score integer,
    positive_touch_point_score integer,
    process_flow boolean,
    salutation text,
    score integer,
    secondary_email text,
    skype_id text,
    title text,
    touch_point_score integer,
    twitter text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE product (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    vendorid text,
    approved boolean,
    commission_rate integer,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    editable boolean,
    exchange_rate double precision,
    in_merge boolean,
    last_activity_time timestamp,
    manufacturer text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    product_active boolean,
    product_category text,
    product_code text,
    product_name text,
    qty_in_demand double precision,
    qty_in_stock double precision,
    qty_ordered double precision,
    reorder_level double precision,
    sales_end_date timestamp,
    sales_start_date timestamp,
    support_expiry_date text,
    support_start_date text,
    taxable boolean,
    unit_price double precision,
    usage_unit text,
    vendorname text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (vendorid) REFERENCES vendor(id)
);

CREATE TABLE "role" (
    id text,
    forecast_manager_id text,
    reporting_to_id text,
    admin_user boolean,
    description text,
    display_label text,
    forecast_manager_email text,
    forecast_manager_name text,
    "name" text,
    reporting_to_email text,
    reporting_to_name text,
    share_with_peers boolean,
    PRIMARY KEY (id),
    FOREIGN KEY (forecast_manager_id) REFERENCES users(id),
    FOREIGN KEY (reporting_to_id) REFERENCES users(id)
);

CREATE TABLE currency (
    id text,
    created_by_id text,
    modified_by_id text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    exchange_rate double precision,
    format_decimal_places text,
    format_decimal_separator text,
    format_thousand_separator text,
    is_active boolean,
    is_base boolean,
    iso_code text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    "name" text,
    prefix_symbol boolean,
    symbol text,
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id)
);

CREATE TABLE account (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    account_name text,
    account_number text,
    account_site text,
    account_type text,
    annual_revenue double precision,
    approved boolean,
    billing_city text,
    billing_code text,
    billing_country text,
    billing_state text,
    billing_street text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    editable boolean,
    employees integer,
    exchange_rate double precision,
    fax text,
    in_merge boolean,
    industry text,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    ownership text,
    phone text,
    process_flow boolean,
    rating text,
    shipping_city text,
    shipping_code text,
    shipping_country text,
    shipping_state text,
    shipping_street text,
    sic_code integer,
    ticker_symbol text,
    website text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE invoice (
    id text,
    account_id text,
    contact_id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    account_name text,
    adjustment double precision,
    approved boolean,
    billing_city text,
    billing_code text,
    billing_country text,
    billing_state text,
    billing_street text,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    discount double precision,
    due_date text,
    editable boolean,
    exchange_rate double precision,
    excise_duty text,
    grand_total double precision,
    in_merge boolean,
    invoice_date text,
    invoice_number text,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    sales_commission double precision,
    shipping_city text,
    shipping_code text,
    shipping_country text,
    shipping_state text,
    shipping_street text,
    "status" text,
    sub_total double precision,
    subject text,
    tax double precision,
    terms_and_conditions text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE invoice_product (
    id text,
    invoice_id text,
    product_id text,
    discount double precision,
    list_price double precision,
    net_total double precision,
    product_code text,
    quantity integer,
    quantity_in_stock integer,
    tax double precision,
    total double precision,
    total_after_discount double precision,
    unit_price double precision,
    PRIMARY KEY (id, invoice_id),
    FOREIGN KEY (invoice_id) REFERENCES invoice(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);

CREATE TABLE vendor (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    approved boolean,
    category text,
    city text,
    country text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    data_source text,
    description text,
    editable boolean,
    email text,
    exchange_rate double precision,
    gl_account text,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    phone text,
    process_flow boolean,
    "state" text,
    street text,
    vendor_name text,
    website text,
    zip_code text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE "call" (
    id text,
    account_id text,
    contact_id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    account_name text,
    approved boolean,
    calendar_booking_call boolean,
    call_agenda text,
    call_duration text,
    call_purpose text,
    call_result text,
    call_start_time timestamp,
    call_status text,
    call_type text,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    dialled_number text,
    editable boolean,
    exchange_rate double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    se_module text,
    subject text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE contact_role (
    id text,
    "name" text,
    sequence_number integer,
    PRIMARY KEY (id)
);

CREATE TABLE deal_stage_history (
    id text,
    deal_id text,
    modified_by_id text,
    stage_id text,
    amount double precision,
    close_date text,
    duration_days integer,
    expected_revenue double precision,
    last_modified_time timestamp,
    modified_by_email text,
    modified_by_name text,
    probability text,
    PRIMARY KEY (id),
    FOREIGN KEY (deal_id) REFERENCES deal(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (stage_id) REFERENCES stage(id)
);

CREATE TABLE event (
    id text,
    contact_id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    all_day boolean,
    approved boolean,
    calendar_booking_event text,
    check_in_address text,
    check_in_city text,
    check_in_comment text,
    check_in_country text,
    check_in_status text,
    check_in_time timestamp,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    editable boolean,
    end_date_time timestamp,
    event_title text,
    exchange_rate double precision,
    in_merge boolean,
    last_activity_time timestamp,
    latitude double precision,
    longitude double precision,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    recurrence_id text,
    recurring_activity_rrule text,
    remind_at timestamp,
    se_module text,
    send_notification boolean,
    start_date_time timestamp,
    u_id text,
    venue text,
    zip_code text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE lead (
    id text,
    converted_detail_account text,
    converted_detail_contact text,
    converted_detail_deal text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    approved boolean,
    company text,
    converted boolean,
    converted_detail_convert_date timestamp,
    converted_detail_converted_by text,
    country text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    designation text,
    editable boolean,
    email text,
    email_opt_out boolean,
    exchange_rate double precision,
    fax text,
    first_name text,
    first_visited_time timestamp,
    full_name text,
    in_merge boolean,
    industry text,
    industry_type text,
    last_activity_time timestamp,
    last_name text,
    lead_source text,
    lead_status text,
    mobile text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    no_of_employees integer,
    orchestration boolean,
    owner_email text,
    owner_name text,
    phone text,
    positive_score integer,
    process_flow boolean,
    salutation text,
    skype_id text,
    "state" text,
    street text,
    touch_point_score integer,
    twitter text,
    website text,
    zip_code text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (converted_detail_account) REFERENCES account(id),
    FOREIGN KEY (converted_detail_contact) REFERENCES contact(id),
    FOREIGN KEY (converted_detail_deal) REFERENCES deal(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE organization (
    id text,
    alias text,
    city text,
    company_name text,
    country text,
    country_code text,
    currency text,
    currency_locale text,
    currency_symbol text,
    description text,
    domain_name text,
    employee_count text,
    fax text,
    gapps_enabled boolean,
    iso_code text,
    mc_status boolean,
    mobile text,
    phone text,
    photo_id text,
    primary_email text,
    primary_zuid text,
    privacy_settings boolean,
    "state" text,
    street text,
    time_zone text,
    translation_enabled boolean,
    website text,
    zgid text,
    zia_portal_id text,
    zip text,
    -- license_details_* (dynamic column),
    PRIMARY KEY (id)
);

CREATE TABLE profile (
    id text,
    created_by_id text,
    modified_by_id text,
    category boolean,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    description text,
    display_label text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    "name" text,
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id)
);

CREATE TABLE quote_product (
    id text,
    quote_id text,
    product_id text,
    discount double precision,
    list_price double precision,
    net_total double precision,
    product_currency text,
    product_description text,
    quantity double precision,
    quantity_in_stock integer,
    tax double precision,
    total double precision,
    total_after_discount double precision,
    unit_price double precision,
    PRIMARY KEY (id, quote_id),
    FOREIGN KEY (quote_id) REFERENCES quote(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);

CREATE TABLE solution (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    product_id text,
    answer text,
    approved boolean,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    editable boolean,
    exchange_rate double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    no_of_comments integer,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    product_name text,
    published text,
    question text,
    solution_number text,
    solution_title text,
    "status" text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);

CREATE TABLE purchase_order (
    id text,
    contact_id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    vendor_id text,
    adjustment double precision,
    approved boolean,
    billing_city text,
    billing_code text,
    billing_country text,
    billing_state text,
    billing_street text,
    carrier text,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    customer_no text,
    description text,
    discount double precision,
    due_date text,
    editable boolean,
    exchange_rate double precision,
    excise_duty double precision,
    grand_total double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    po_date text,
    po_number text,
    process_flow boolean,
    requisition_no text,
    sales_commission double precision,
    shipping_city text,
    shipping_code text,
    shipping_country text,
    shipping_state text,
    shipping_street text,
    "state" text,
    "status" text,
    sub_total double precision,
    subject text,
    tax double precision,
    terms_and_conditions text,
    tracking_number text,
    vendor_name text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (vendor_id) REFERENCES vendor(id)
);

CREATE TABLE territory (
    id text,
    created_by_id text,
    manager_id text,
    modified_by_id text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    criteria jsonb,
    description text,
    manager_email text,
    manager_name text,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    "name" text,
    parent_id text,
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (manager_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id)
);

-- parent_id can point to either module like lead, account, contact etc.
CREATE TABLE note (
    id text,
    created_byid text,
    modified_byid text,
    owner_id text,
    created_byemail text,
    created_byname text,
    created_time timestamp,
    editable boolean,
    is_shared_to_client boolean,
    modified_byemail text,
    modified_byname text,
    modified_time timestamp,
    note_content text,
    note_title text,
    owner_email text,
    owner_name text,
    parent_id text,
    se_module text,
    "size" integer,
    "state" text,
    voice_note boolean,
    PRIMARY KEY (id),
    FOREIGN KEY (created_byid) REFERENCES users(id),
    FOREIGN KEY (modified_byid) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE user_territory (
    territory_id text,
    user_id text,
    PRIMARY KEY (territory_id, user_id),
    FOREIGN KEY (territory_id) REFERENCES territory(id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE deal (
    id text,
    account_id text,
    campaign_source_id text,
    contact_id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    account_name text,
    amount double precision,
    approved boolean,
    campaign_source_name text,
    closing_date text,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    deal_name text,
    description text,
    editable boolean,
    exchange_rate double precision,
    expected_revenue double precision,
    followed boolean,
    in_merge boolean,
    last_activity_time timestamp,
    lead_conversion_time integer,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    next_step text,
    orchestration boolean,
    overall_sales_duration integer,
    owner_email text,
    owner_name text,
    probability text,
    process_flow boolean,
    sales_cycle_duration integer,
    stage text,
    "type" text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (campaign_source_id) REFERENCES campaign(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE case_module (
    id text,
    account_id text,
    contact_id text,
    created_by_id text,
    deal_id text,
    modified_by_id text,
    owner_id text,
    product_id text,
    account_name text,
    approved boolean,
    case_number text,
    case_origin text,
    case_reason text,
    contact_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    deal_name text,
    description text,
    editable boolean,
    email text,
    exchange_rate double precision,
    in_merge boolean,
    internal_comments text,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    no_of_comments integer,
    orchestration boolean,
    owner_email text,
    owner_name text,
    phone text,
    priority text,
    process_flow boolean,
    product_name text,
    solution text,
    "status" text,
    subject text,
    "type" text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (deal_id) REFERENCES deal(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);

CREATE TABLE campaign (
    id text,
    created_by_id text,
    modified_by_id text,
    owner_id text,
    actual_cost double precision,
    approved boolean,
    budgeted_cost double precision,
    campaign_name text,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    description text,
    editable boolean,
    end_date text,
    exchange_rate double precision,
    expected_revenue double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    num_sent integer,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    start_date text,
    "status" text,
    "type" text,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE quote (
    id text,
    account_id text,
    contact_id text,
    created_by_id text,
    deal_id text,
    modified_by_id text,
    owner_id text,
    account_name text,
    adjustment double precision,
    approved boolean,
    billing_city text,
    billing_code text,
    billing_country text,
    billing_state text,
    billing_street text,
    carrier text,
    contact_name text,
    converted boolean,
    created_by_email text,
    created_by_name text,
    created_time timestamp,
    currency text,
    currency_symbol text,
    deal_name text,
    description text,
    discount double precision,
    editable boolean,
    exchange_rate double precision,
    grand_total double precision,
    in_merge boolean,
    last_activity_time timestamp,
    modified_by_email text,
    modified_by_name text,
    modified_time timestamp,
    orchestration boolean,
    owner_email text,
    owner_name text,
    process_flow boolean,
    quote_number text,
    quote_stage text,
    shipping_city text,
    shipping_code text,
    shipping_country text,
    shipping_state text,
    shipping_street text,
    sub_total double precision,
    subject text,
    tax double precision,
    team text,
    valid_till timestamp,
    -- approval_* (dynamic column),
    -- review_process_* (dynamic column),
    PRIMARY KEY (id),
    FOREIGN KEY (account_id) REFERENCES account(id),
    FOREIGN KEY (contact_id) REFERENCES contact(id),
    FOREIGN KEY (created_by_id) REFERENCES users(id),
    FOREIGN KEY (deal_id) REFERENCES deal(id),
    FOREIGN KEY (modified_by_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE TABLE sales_order_product (
    id text,
    sales_order_id text,
    product_id text,
    discount double precision,
    list_price double precision,
    net_total double precision,
    product_currency text,
    product_description text,
    product_name text,
    quantity integer,
    quantity_in_stock integer,
    tax double precision,
    total double precision,
    total_after_discount double precision,
    unit_price double precision,
    PRIMARY KEY (id, sales_order_id),
    FOREIGN KEY (sales_order_id) REFERENCES sales_order(id),
    FOREIGN KEY (product_id) REFERENCES product(id)
);
