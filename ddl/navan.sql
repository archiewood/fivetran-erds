CREATE TABLE "transaction" (
    id text,
    item_id text,
    cardholder_employee_id text,
    navan_booking_id text,
    trip_uuid text,
    activity_description text,
    activity_type text,
    adjustment_description text,
    admin_note text,
    amount_rejected text,
    amount_repaid text,
    approval_status text,
    approved_by_email text,
    approver_type text,
    authorization_date text,
    billable_entity text,
    billable_entity_amount text,
    billable_entity_currency text,
    booker text,
    booking_end_date text,
    booking_start_date text,
    booking_status text,
    card_description text,
    card_owner text,
    cardholder text,
    cardholder_email text,
    cardholder_guest text,
    cardnickname text,
    country_of_transaction text,
    distance_amount text,
    distance_unit text,
    ereceipt text,
    ereceipt_navan text,
    eticket text,
    exchange_rate text,
    fee text,
    flag_reason text,
    flag_status text,
    flagged text,
    flight_cabin text,
    flight_destination_airport text,
    flight_mile text,
    flight_origin_airport text,
    fx_fee_amount text,
    gl_code_name text,
    gl_code_number text,
    hotel_name text,
    hotel_payment_type text,
    inviter_cost_center text,
    inviter_department text,
    inviter_email text,
    inviter_employee_id text,
    inviter_name text,
    inviter_region text,
    inviter_subsidiary text,
    invoice_date text,
    invoice_number text,
    item_title text,
    last_approver_action_date text,
    legal_entity text,
    legal_entity_amount text,
    legal_entity_currency text,
    manually_added_date text,
    merchant_address text,
    merchant_category text,
    merchant_name text,
    modified_timestamp text,
    net_amount text,
    net_amount_1 text,
    net_amount_2 text,
    net_amount_3 text,
    original_amount text,
    original_currency text,
    original_txn_id text,
    participant text,
    personal text,
    personal_amount text,
    policy text,
    policy_category text,
    posted_amount text,
    posted_currency text,
    posted_date text,
    posted_date_time text,
    receipt text,
    receipt_navan text,
    reimbursement_amount text,
    reimbursement_currency text,
    reimbursement_date text,
    reimbursement_exchange_rate text,
    reimbursement_method text,
    related_traveler text,
    repaid_transaction_id text,
    requested_amount text,
    source_id text,
    ta_invoice text,
    tax_amount_1 text,
    tax_amount_2 text,
    tax_amount_3 text,
    tax_total text,
    tax_type_1 text,
    tax_type_2 text,
    tax_type_3 text,
    taxable_benefit text,
    train_mile text,
    transaction_costcenter text,
    transaction_department text,
    transaction_description text,
    transaction_region text,
    transaction_subsidiary text,
    travelers_cost_center text,
    travelers_department text,
    travelers_employee_id text,
    travelers_region text,
    travelers_subsidiary text,
    trip_name text,
    trip_purpose text,
    vat_number text,
    vendor text,
    -- custom_* (dynamic column),
    PRIMARY KEY (id, item_id),
    FOREIGN KEY (cardholder_employee_id) REFERENCES booking_passenger(person_employeed_id),
    FOREIGN KEY (navan_booking_id) REFERENCES booking(booking_id),
    FOREIGN KEY (trip_uuid) REFERENCES booking_trip_uuid(trip_uuid)
);

CREATE TABLE booking_eticket (
    "index" text,
    booking_uuid text,
    eticket text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_passenger (
    "index" text,
    booking_uuid text,
    passport_country_of_citizenship text,
    passport_country_of_issue text,
    passport_expires_on text,
    passport_issued_on text,
    person_billable_entity text,
    person_cost_center text,
    person_department text,
    person_email text,
    person_employeed_id text,
    person_manager_email text,
    person_manager_name text,
    person_manager_uuid text,
    person_name text,
    person_region text,
    person_subsidiary text,
    person_uuid text,
    "status" text,
    traveler_type text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_segment (
    "index" text,
    booking_uuid text,
    airline_alliance text,
    arrival_address text,
    arrival_airport_code text,
    arrival_city text,
    arrival_country text,
    arrival_postal_code text,
    arrival_state text,
    departure_address text,
    departure_airport_code text,
    departure_city text,
    departure_country text,
    departure_postal_code text,
    departure_state text,
    end_local_date_time text,
    end_timestamp text,
    flight_number text,
    hotel_chain text,
    hotel_super_chain text,
    provider_code text,
    provider_name text,
    start_local_date_time text,
    start_timestamp text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_trip_uuid (
    "index" text,
    booking_uuid text,
    trip_uuid text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_cost_center (
    "index" text,
    booking_uuid text,
    cost_center text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_department (
    "index" text,
    booking_uuid text,
    department text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_billable_entity (
    "index" text,
    booking_uuid text,
    billable_entity text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_custom_field (
    "index" text,
    booking_uuid text,
    "name" text,
    "value" text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_region (
    "index" text,
    booking_uuid text,
    region text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_subsidiary (
    "index" text,
    booking_uuid text,
    subsidiary text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_credit (
    "index" text,
    booking_uuid text,
    credit_available text,
    credit_available_usd text,
    credit_exchange_fee_usd text,
    credit_from_original_booking text,
    credit_used text,
    credit_used_usd text,
    residual_credit text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_reshopping (
    "index" text,
    booking_uuid text,
    reshopping_is_rebooked text,
    reshopping_new_price text,
    reshopping_new_ticket_number text,
    reshopping_original_price text,
    reshopping_original_ticket_number text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_destination (
    "index" text,
    booking_uuid text,
    address text,
    airport_code text,
    city text,
    country text,
    postal_code text,
    "state" text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_booker (
    "index" text,
    booking_uuid text,
    uuid text,
    billable_entity text,
    cost_center text,
    department text,
    email text,
    employeed_id text,
    manager_email text,
    manager_name text,
    manager_uuid text,
    "name" text,
    passport text,
    region text,
    subsidiary text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid),
    FOREIGN KEY (uuid) REFERENCES booking_passenger(person_uuid)
);

CREATE TABLE booking_origin (
    "index" text,
    booking_uuid text,
    address text,
    airport_code text,
    city text,
    country text,
    postal_code text,
    "state" text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_seat (
    "index" text,
    booking_uuid text,
    seat text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking_out_of_policy_violation_type (
    "index" text,
    booking_uuid text,
    out_of_policy_violation_type text,
    PRIMARY KEY ("index", booking_uuid),
    FOREIGN KEY (booking_uuid) REFERENCES booking(uuid)
);

CREATE TABLE booking (
    uuid text,
    airline_credit_card_surcharge text,
    approval_changed_at text,
    approval_status text,
    approver_email text,
    approver_reason text,
    base_price text,
    bill_to_client text,
    booking_duration text,
    booking_fee text,
    booking_id text,
    booking_method text,
    booking_status text,
    booking_type text,
    cabin text,
    cabin_purchased text,
    cancellation_reason text,
    cancelled_at text,
    car_type text,
    carbon_emission text,
    carbon_offset_cost text,
    cnr_cnr_codes jsonb,
    cnr_cnr_provider jsonb,
    cnr_cnr_sources jsonb,
    cnr_published_price text,
    company_office text,
    company_payment_method text,
    corporate_discount_used text,
    created text,
    currency text,
    currency_exhange_rate_from_usd text,
    domestic text,
    end_date text,
    eticket jsonb,
    event_name text,
    exchange_amount text,
    exchange_fee text,
    expensed text,
    extras_fee text,
    fare_class text,
    flight text,
    flight_mile text,
    grand_total text,
    gst text,
    hotel_chain text,
    hotel_code text,
    hst text,
    inventory text,
    inventory_source text,
    invoice text,
    last_modified text,
    lead_time_in_days text,
    max_cancellation_loss text,
    max_price_policy text,
    name_on_credit_card text,
    navan_pro text,
    net_charge text,
    number_of_passenger text,
    optimal_price text,
    out_of_policy text,
    out_of_policy_description text,
    out_of_policy_violation text,
    payment_credit_card_type_name text,
    payment_method text,
    payment_method_used text,
    payment_schedule text,
    pcc text,
    pdf text,
    policy_level text,
    ppb_points_burned text,
    preferred_vendor text,
    project text,
    purpose text,
    qst text,
    reason text,
    resort_fee text,
    saving text,
    saving_missed text,
    seats_fee text,
    start_date text,
    statement_description text,
    tax text,
    train_mile text,
    travel_agent_request_fee text,
    travel_spend text,
    trip_bucks_earned text,
    trip_bucks_earned_usd text,
    trip_description text,
    trip_fee text,
    trip_length text,
    trip_name text,
    unitary_price text,
    usd_grand_total text,
    vat text,
    vendor text,
    vip_fee text,
    PRIMARY KEY (uuid)
);
